<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¹¾å¤å¥ªé‡‘å¤§å¸«</title>
    <style>
        :root { --gold: #fbc531; --magic: #4834d4; --red: #b33939; --dark: #161625; }
        body { background:#0a0a1a; color:white; font-family:'PingFang TC', sans-serif; text-align:center; padding:10px; margin:0; line-height:1.5; }
        .box { background: linear-gradient(160deg, #161625, #2c3e50); border: 3px solid var(--gold); border-radius: 20px; padding: 15px; max-width: 450px; margin: 10px auto; box-shadow: 0 0 20px rgba(251, 197, 49, 0.2); }
        h1 { color: var(--gold); font-size: 24px; margin: 10px 0; text-shadow: 0 0 10px rgba(251,197,49,0.6); font-weight: 900; letter-spacing: 2px; }
        .subtitle { font-size: 11px; color: #f5f6fa; margin-bottom: 15px; border: 1px solid var(--gold); padding: 5px; border-radius: 5px; display: inline-block; background: rgba(179, 57, 57, 0.3); font-weight: bold; }
        .section-title { background: var(--red); color: white; padding: 5px 10px; border-radius: 5px; font-size: 14px; margin: 15px 0 10px; font-weight: bold; border-left: 5px solid var(--gold); text-align: left; }
        label { display: block; text-align: left; color: #dcdde1; font-size: 13px; margin: 8px 0 3px; }
        input, select { width: 100%; padding: 12px; border-radius: 8px; border: none; font-size: 16px; margin-bottom: 5px; box-sizing: border-box; background: #f5f6fa; color: #333; font-weight: bold; }
        
        .btn { width: 100%; padding: 18px; background: linear-gradient(to right, #f1c40f, #f39c12); color: #2c3e50; border: none; border-radius: 12px; font-weight: 900; font-size: 20px; cursor: pointer; margin-top: 15px; box-shadow: 0 4px 0 #b8860b; transition: 0.1s; }
        .btn:active { transform: translateY(3px); box-shadow: none; }
        .btn-history { background: #8e44ad; color: white; padding: 12px; font-size: 16px; box-shadow: 0 4px 0 #5e3370; margin-top: 10px; }
        
        #res { display:none; margin-top: 25px; text-align: left; animation: slideIn 0.6s; }
        @keyframes slideIn { from {opacity:0; transform:translateY(20px);} to {opacity:1; transform:translateY(0);} }
        .card { background: rgba(255, 255, 255, 0.95); color: #333; padding: 15px; border-radius: 15px; margin-bottom: 15px; border-left: 8px solid var(--magic); }
        .card-h { font-weight: 900; color: var(--red); border-bottom: 1px dashed #ccc; padding-bottom: 5px; margin-bottom: 10px; font-size: 16px; display: flex; justify-content: space-between; align-items: center; }
        .sys-tag { background: var(--magic); color: white; font-size: 10px; padding: 2px 6px; border-radius: 4px; }
        
        .score-board { display: flex; justify-content: space-between; background: #e8e8e8; border-radius: 8px; padding: 8px 15px; margin: 10px 0; font-size: 13px; border: 1px solid #ccc; }
        .score-east { color: #c0392b; font-weight: bold; }
        .score-west { color: #4834d4; font-weight: bold; }
        
        .ana-box { background: #f0f0f5; padding: 10px; border-radius: 8px; font-size: 13px; color: #444; margin-top: 10px; border: 1px dashed #aaa; line-height: 1.6; }
        .score-box { text-align: center; padding: 15px; border-radius: 10px; color: white; font-weight: bold; font-size: 18px; margin-top: 10px; text-shadow: 1px 1px 2px rgba(0,0,0,0.5); }
        
        .num-ball { display: inline-block; background: radial-gradient(circle at 30% 30%, #ff4d4d, #b33939); color: white; width: 60px; height: 60px; line-height: 60px; text-align: center; border-radius: 50%; margin: 10px auto; font-weight: 900; border: 3px solid var(--gold); font-size: 28px; box-shadow: 0 4px 10px rgba(0,0,0,0.4); }
        .recommend-title { font-weight: bold; color: #2c3e50; margin-top: 15px; border-top: 1px solid #ccc; padding-top: 10px; text-align: center; }
        
        #historyBox { display:none; background: #2c3e50; padding: 15px; border-radius: 15px; margin-top: 15px; border: 2px solid #8e44ad; text-align: left; }
        .hist-item { background: rgba(255,255,255,0.1); padding: 10px; border-radius: 8px; margin-bottom: 8px; font-size: 13px; border-left: 4px solid var(--gold); }
        .hist-time { font-size: 11px; color: #aaa; }
        .clear-btn { background: #c0392b; color: white; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer; float: right; font-size: 12px; }
    </style>
</head>
<body>

<div class="box">
    <h1>ğŸª ä¹¾å¤å¥ªé‡‘å¤§å¸«</h1>
    <div class="subtitle">è¬è±¡å¼•è²¡ç¾…ç›¤ â• æ™‚é–“è§¸æ©Ÿ â• è¬éˆç®—åŠ›</div>
    
    <div class="section-title">ğŸ‘¤ ç¬¬ä¸€æ­¥ï¼šå»ºæ§‹æœ¬å‘½ç£å ´</div>
    <div style="display:flex; gap:10px;">
        <div style="flex:1;"><label>å§“å</label><input type="text" id="uName" placeholder="è¼¸å…¥å§“å"></div>
        <div style="flex:1;"><label>æ€§åˆ¥</label><select id="uGender"><option value="ç”·">ä¹¾(ç”·)</option><option value="å¥³">å¤(å¥³)</option></select></div>
    </div>
    <div style="display:flex; gap:10px;">
        <div style="flex:1;"><label>ç”Ÿæ—¥</label><input type="date" id="bDate"></div>
        <div style="flex:1;"><label>æ™‚è¾°</label>
            <select id="bHour">
                <option value="0">å­(23-01)</option><option value="2">ä¸‘(01-03)</option><option value="4">å¯…(03-05)</option><option value="6">å¯(05-07)</option>
                <option value="8">è¾°(07-09)</option><option value="10">å·³(09-11)</option><option value="12">åˆ(11-13)</option><option value="14">æœª(13-15)</option>
                <option value="16">ç”³(15-17)</option><option value="18">é…‰(17-19)</option><option value="20">æˆŒ(19-21)</option><option value="22">äº¥(21-23)</option>
            </select>
        </div>
    </div>

    <div class="section-title">ğŸ« ç¬¬äºŒæ­¥ï¼šç¾å ´ç›®æ¨™æ¬¾å¼æª¢å®š</div>
    <label>è«‹é¸æ“‡æ¬¾å¼èˆ‡é¢é¡</label>
    <select id="tSelect" style="border: 2px solid var(--red);">
        <option value="0_å…¨å“é …ç¶œåˆé‹å‹¢">âœ¨ ã€ä¸æŒ‡å®šæ¬¾å¼ã€‘ æ¸¬ç®—ä»Šæ—¥æ•´é«”é‹å‹¢ âœ¨</option>
        <optgroup label="2000å…ƒé¢é¡">
            <option value="2000_2,000è¬è¶…ç´šç´…åŒ…">ã€2000å…ƒã€‘ 2,000è¬è¶…ç´šç´…åŒ…</option>
        </optgroup>
        <optgroup label="1000å…ƒé¢é¡">
            <option value="1000_1,200è¬å¤§å‰åˆ©">ã€1000å…ƒã€‘ 1,200è¬å¤§å‰åˆ©</option>
        </optgroup>
        <optgroup label="500å…ƒé¢é¡">
            <option value="500_äº”è·¯è²¡ç¥">ã€500å…ƒã€‘ äº”è·¯è²¡ç¥</option>
            <option value="500_å“ˆå•¾å’ª">ã€500å…ƒã€‘ å“ˆå•¾å’ª</option>
            <option value="500_é‡‘é¦¬çï¼ˆ100%ä¸­çï¼‰">ã€500å…ƒã€‘ é‡‘é¦¬çï¼ˆ100%ä¸­çï¼‰</option>
            <option value="500_é‡‘ç‰Œ777">ã€500å…ƒã€‘ é‡‘ç‰Œ777</option>
        </optgroup>
        <optgroup label="300å…ƒé¢é¡">
            <option value="300_æµ·åº•å¤§å°‹å¯¶">ã€300å…ƒã€‘ æµ·åº•å¤§å°‹å¯¶</option>
        </optgroup>
        <optgroup label="200å…ƒé¢é¡">
            <option value="200_é‡‘é¦¬å ±å–œ">ã€200å…ƒã€‘ é‡‘é¦¬å ±å–œ</option>
            <option value="200_é‡‘å¥½é‘½">ã€200å…ƒã€‘ é‡‘å¥½é‘½</option>
            <option value="200_å¥½é‹é€£ç™¼">ã€200å…ƒã€‘ å¥½é‹é€£ç™¼</option>
            <option value="200_å¤§ä¸‰å…ƒ">ã€200å…ƒã€‘ å¤§ä¸‰å…ƒ</option>
        </optgroup>
        <optgroup label="100å…ƒé¢é¡">
            <option value="100_æ¨é‡‘å¹£">ã€100å…ƒã€‘ æ¨é‡‘å¹£</option>
            <option value="100_è²¡ç¥å ±åˆ°">ã€100å…ƒã€‘ è²¡ç¥å ±åˆ°</option>
            <option value="100_è²¡æºæ»¾æ»¾">ã€100å…ƒã€‘ è²¡æºæ»¾æ»¾</option>
        </optgroup>
    </select>
    
    <label>è™Ÿç¢¼å°¾æ•¸ (é¸å¡«ï¼Œæœ€å¤šè¼¸å…¥ 100)</label>
    <input type="number" id="tNum" min="0" max="100" placeholder="è¼¸å…¥å°¾æ•¸ 0~100 (æ²’æƒ³æ³•å¯ä¸å¡«)">

    <button class="btn" onclick="go()">ğŸ”® å•Ÿå‹•å¤§å¸«ç´šå³æ™‚ç›¤ç®—ï¼</button>
    
    <button class="btn btn-history" onclick="toggleHistory()">ğŸ“œ æŸ¥çœ‹æ­·å²å¥ªé‡‘ç´€éŒ„</button>

    <div id="historyBox">
        <h3 style="margin: 0 0 10px 0; color: var(--gold);">ğŸ“œ æ­·å²æª¢å®šç´€éŒ„ <button class="clear-btn" onclick="clearHistory()">æ¸…ç©º</button></h3>
        <div id="historyList"></div>
    </div>

    <div id="res">
        <div class="card" style="border-left-color: #f1c40f;">
            <div class="card-h">ğŸ¯ ä¸­è¥¿äº¤åŒ¯æª¢å®šçµæœ <span class="sys-tag">å¡”ç¾…/ç´«å¾®/è§¸æ©Ÿ</span></div>
            <div style="font-size:14px; text-align:center;">
                æ¸¬ç®—ç›®æ¨™ï¼š <b style="color:#d35400;" id="r_target_info"></b>
            </div>
            
            <div class="score-board">
                <div class="score-east">â˜¯ï¸ æ±æ–¹ç®—åŠ›ï¼š<span id="o_east_score"></span>/50</div>
                <div>â•</div>
                <div class="score-west">ğŸ”® è¥¿æ–¹ç®—åŠ›ï¼š<span id="o_west_score"></span>/50</div>
            </div>

            <div id="o_score_box" class="score-box"></div>
            <div class="ana-box" id="o_target_ana"></div>
            
            <div class="recommend-title" id="t_recommend_title">ğŸ‘‡ æ­¤åˆ»å°ˆå±¬å¹¸é‹å°¾æ•¸ ğŸ‘‡</div>
            <div style="text-align:center;"><div class="num-ball" id="o_lucky_num_1"></div></div>
        </div>

        <div class="card" style="border-left-color: #27ae60;">
            <div class="card-h">ğŸ’¡ å¤§å¸«æœ€æ¨è–¦æ–¹æ¡ˆ <span class="sys-tag">é›·è«¾æ›¼/æ¢…èŠ±æ˜“æ•¸</span></div>
            <div style="font-size:13px; margin-bottom:5px;">ä¾æ“šç•¶ä¸‹æ™‚è¾°èˆ‡æ˜Ÿç›¤ï¼Œæœ€æ—ºæ¬¾å¼ï¼š</div>
            <div id="o_price" style="font-weight:bold; color:#d35400;"></div>
            <span id="o_name" style="font-size: 18px; color: #d63031; font-weight: 900; display: block; margin: 5px 0;"></span>
            <div id="o_ana_lotto" style="font-size:13px; color:#555;"></div>
            
            <div class="recommend-title">ğŸ‘‡ å‚™ç”¨æ¬¾å°ˆå±¬å¹¸é‹å°¾æ•¸ ğŸ‘‡</div>
            <div style="text-align:center;"><div class="num-ball" id="o_lucky_num_2"></div></div>
        </div>
        
        <div id="o_pos" style="font-weight:bold; color:var(--gold); margin-top:15px; text-align:center; font-size:16px;"></div>
    </div>
</div>

<script>
window.onload = function() {
    let savedProfile = localStorage.getItem('lottoProfile');
    if (savedProfile) {
        let p = JSON.parse(savedProfile);
        if(p.name) document.getElementById('uName').value = p.name;
        if(p.gender) document.getElementById('uGender').value = p.gender;
        if(p.bd) document.getElementById('bDate').value = p.bd;
        if(p.bh) document.getElementById('bHour').value = p.bh;
    }
};

function saveHistory(targetInfo, scoreStr, color) {
    let history = JSON.parse(localStorage.getItem('lottoRecord')) || [];
    let now = new Date();
    let timeStr = `${now.getMonth()+1}/${now.getDate()} ${now.getHours()}:${now.getMinutes()<10?'0':''}${now.getMinutes()}`;
    
    history.unshift({ time: timeStr, info: targetInfo, score: scoreStr, color: color });
    if(history.length > 10) history.pop(); 
    localStorage.setItem('lottoRecord', JSON.stringify(history));
}

function toggleHistory() {
    let box = document.getElementById('historyBox');
    if (box.style.display === 'block') {
        box.style.display = 'none';
    } else {
        renderHistory();
        box.style.display = 'block';
    }
}

function renderHistory() {
    let history = JSON.parse(localStorage.getItem('lottoRecord')) || [];
    let list = document.getElementById('historyList');
    if (history.length === 0) {
        list.innerHTML = "<div style='color:#ccc; font-size:13px;'>ç›®å‰å°šç„¡ç´€éŒ„ã€‚</div>";
        return;
    }
    let html = "";
    history.forEach(item => {
        html += `<div class="hist-item" style="border-left-color: ${item.color};">
                    <span class="hist-time">[${item.time}]</span> <b>${item.info}</b><br>
                    <span style="color:${item.color}; font-weight:bold;">${item.score}</span>
                 </div>`;
    });
    list.innerHTML = html;
}

function clearHistory() {
    if(confirm("ç¢ºå®šè¦æ¸…ç©ºæ‰€æœ‰ç´€éŒ„å—ï¼Ÿ")) {
        localStorage.removeItem('lottoRecord');
        renderHistory();
    }
}

function go() {
    const name = document.getElementById('uName').value;
    const bd = document.getElementById('bDate').value;
    const bh = parseInt(document.getElementById('bHour').value);
    const gender = document.getElementById('uGender').value;
    
    const targetVal = document.getElementById('tSelect').value;
    const [tPriceStr, tName] = targetVal.split('_');
    const tPrice = parseInt(tPriceStr); 
    const tNumInput = document.getElementById('tNum').value;
    const tNum = tNumInput ? parseInt(tNumInput) : 0;

    if (tNumInput !== "" && (tNum > 100 || tNum < 0)) {
        alert("âš ï¸ è™Ÿç¢¼å°¾æ•¸éŒ¯èª¤ï¼\nè«‹è¼¸å…¥ 0 åˆ° 100 ä¹‹é–“çš„æœ‰æ•ˆæ•¸å­—ï¼");
        return;
    }
    if(!name || !bd) { alert("å¤§å¸«æé†’ï¼šè«‹å¡«å¯«å§“åèˆ‡ç”Ÿæ—¥ä»¥é€£çµå®‡å®™èƒ½é‡ï¼"); return; }

    localStorage.setItem('lottoProfile', JSON.stringify({
        name: name,
        gender: gender,
        bd: bd,
        bh: bh
    }));

    const dObj = new Date(bd);
    const m = dObj.getMonth() + 1;
    const d = dObj.getDate();
    
    const now = new Date();
    const nowM = now.getMonth() + 1;
    const nowD = now.getDate();
    const nowH = now.getHours();
    const nowMin = now.getMinutes();
    
    const timeStr = `${nowM}/${nowD} ${nowH}:${nowMin<10?'0':''}${nowMin}`;

    const baseSeed = m + d + name.length + bh + nowM + nowD; 
    const itemSeed = baseSeed + tPrice + tName.length + nowH + nowMin; 

    let eastScore = (m * 3 + d * 2 + bh * 5 + (gender === "ç”·" ? 18 : 28) + tNum + nowH) % 40 + 10; 
    let westScore = (name.length * 7 + tPrice + tName.length * 3 + tNum * 2 + nowMin) % 40 + 10;

    const n1 = (itemSeed * 7 + 13) % 100; 
    const bn1 = (baseSeed * 11 + nowH * 3 + 36) % 100;

    let isPerfectMatch = false;
    if (tNumInput !== "" && (tNum === n1 || tNum === bn1)) {
        eastScore = 46 + (baseSeed % 4);  
        westScore = 45 + (itemSeed % 5);  
        isPerfectMatch = true;
    }
    
    let matchScore = eastScore + westScore; 

    document.getElementById('o_east_score').innerText = eastScore;
    document.getElementById('o_west_score').innerText = westScore;

    let displayTarget = tPrice === 0 ? "ã€ç¶œåˆæ•´é«”é‹å‹¢ã€‘" : `${tPrice}å…ƒçš„ã€Œ${tName}ã€`;
    displayTarget += tNumInput ? ` (æ¸¬ç®—å°¾æ•¸ ${tNum})` : ``;
    document.getElementById('r_target_info').innerText = displayTarget;
    
    const tarot = ["çš‡å¸", "çš‡å", "å‘½é‹ä¹‹è¼ª", "å¤ªé™½", "ä¸–ç•Œ", "é­”è¡“å¸«", "æˆ°è»Š", "æ˜Ÿæ˜Ÿ"];
    const runes = ["Fehu(è±é¥’)", "Jera(è±æ”¶)", "Gebo(ç¦®ç‰©)", "Wunjo(å–œæ‚…)", "Kenaz(å•Ÿç™¼)"];
    const lenormand = ["å¤ªé™½", "é­š", "å››è‘‰è‰", "é‘°åŒ™", "ç†Š"];
    
    let scoreBox = document.getElementById('o_score_box');
    let targetAna = document.getElementById('o_target_ana');
    let tCard = tarot[itemSeed % 8];
    let rRune = runes[itemSeed % 5];

    let tTypeStr = tPrice === 0 ? "æ‚¨çš„æ•´é«”ç£å ´" : "é€™æ¬¾å½©åˆ¸";
    let scoreStr = "";
    let themeColor = "";
    
    if(matchScore >= 80) {
        themeColor = "#27ae60";
        scoreStr = `ğŸŒŸ å…±æŒ¯ç¸½åˆ† ${matchScore} åˆ†ï¼šæ¥µåº¦æ¨è–¦ï¼`;
        scoreBox.style.background = "linear-gradient(to right, #27ae60, #2ecc71)";
        
        let extraText = isPerfectMatch ? "<b style='color:#c0392b;'>ã€å¤§åˆç›¸ã€‘</b> è¼¸å…¥æ­£æ˜¯æœ¬å‘½è™Ÿç¢¼ï¼<br>" : "";
        targetAna.innerHTML = `<b>ã€è§¸æ©Ÿã€‘</b> æ–¼ ${timeStr} èµ·å¦ã€‚<br>${extraText}<b>ã€æ±æ–¹ã€‘</b> æ¢…èŠ±æ˜“æ•¸å¾—å‰å¦ï¼Œèˆ‡æ‚¨çš„å››æŸ±å…«å­—å®Œç¾å¥‘åˆ (è²¢ç» ${eastScore} åˆ†)ã€‚<br><b>ã€è¥¿æ–¹ã€‘</b> å¡”ç¾…ç‰ŒæŠ½å‡º<b>ã€Œ${tCard}ã€</b>ï¼Œæ­¤æ™‚æ˜Ÿè±¡æ­£å¥½è½å…¥è²¡å®® (è²¢ç» ${westScore} åˆ†)ã€‚<br><b>ã€çµè«–ã€‘</b> ç•¶ä¸‹æ™‚é–“çš„èƒ½é‡ç‚ºæ‚¨åŠ æŒï¼Œè«‹å¤§è†½å‡ºæ“Šï¼`;
    } else if (matchScore >= 50) {
        themeColor = "#f39c12";
        scoreStr = `âš¡ å…±æŒ¯ç¸½åˆ† ${matchScore} åˆ†ï¼šå¯ä»¥ä¸€è©¦`;
        scoreBox.style.background = "linear-gradient(to right, #f39c12, #e67e22)";
        targetAna.innerHTML = `<b>ã€è§¸æ©Ÿã€‘</b> æ–¼ ${timeStr} èµ·å¦ã€‚<br><b>ã€æ±æ–¹ã€‘</b> å…«å­—å¹³ç©©ï¼Œç„¡åˆ‘å‰‹ä¹‹è±¡ (è²¢ç» ${eastScore} åˆ†)ã€‚<br><b>ã€è¥¿æ–¹ã€‘</b> å¡”ç¾…é¡¯ç¤º<b>ã€Œæ„šè€…ã€</b>ï¼Œå¸¶æœ‰æœªçŸ¥çš„è®Šæ•¸ (è²¢ç» ${westScore} åˆ†)ã€‚<br><b>ã€çµè«–ã€‘</b> ç•¶ä¸‹åˆ†æ•¸æŒå¹³ï¼Œ${tTypeStr}æ²’æœ‰çŠ¯æ²–ï¼Œè‹¥æœ‰å¼·çƒˆç›´è¦ºå¯ä»¥å˜—è©¦ã€‚`;
    } else {
        themeColor = "#c0392b";
        scoreStr = `âš ï¸ å…±æŒ¯ç¸½åˆ† ${matchScore} åˆ†ï¼šå»ºè­°ä¿å®ˆ`;
        scoreBox.style.background = "linear-gradient(to right, #c0392b, #e74c3c)";
        targetAna.innerHTML = `<b>ã€è§¸æ©Ÿã€‘</b> æ–¼ ${timeStr} èµ·å¦ã€‚<br><b>ã€æ±æ–¹ã€‘</b> æ­¤åˆ»æµæ™‚ç¨æœ‰æ²–ç…ï¼Œæ°£å ´å—é˜» (åƒ…å¾— ${eastScore} åˆ†)ã€‚<br><b>ã€è¥¿æ–¹ã€‘</b> å¡”ç¾…æŠ½å‡º<b>ã€Œé«˜å¡”ã€</b>è­¦å‘Šï¼Œèƒ½é‡ä¸ç©©å®š (åƒ…å¾— ${westScore} åˆ†)ã€‚<br><b>ã€çµè«–ã€‘</b> ç•¶ä¸‹æ™‚è¾°çš„ç®—åŠ›ä¸çœ‹å¥½ï¼Œ${tPrice === 0 ? "å»ºè­°æš«åœè³¼è²·æˆ–ç¸®å°é‡‘é¡ã€‚" : "å¼·çƒˆå»ºè­°æ›ä¸€å¼µå°¾æ•¸ï¼Œæˆ–ç¨ç­‰å¹¾åˆ†é˜å¾Œå†æ¸¬ç®—ã€‚"}`;
    }
    
    scoreBox.innerHTML = scoreStr;

    const formatNum = n => n < 10 ? '0' + n : n;
    document.getElementById('t_recommend_title').innerText = tPrice === 0 ? "ğŸ‘‡ ç•¶ä¸‹æ™‚è¾°æœ€å¼·å°¾æ•¸ ğŸ‘‡" : "ğŸ‘‡ è§¸æ©Ÿæ¨ç®—å°ˆå±¬å°¾æ•¸ ğŸ‘‡";
    document.getElementById('o_lucky_num_1').innerText = formatNum(n1);

    let lCard = lenormand[baseSeed % 5];
    const styles = [
        {p:"NT$ 2,000", n:"2,000è¬è¶…ç´šç´…åŒ…", a:`æ˜Ÿç›¤æœ¨æ˜Ÿå…¥è²¡å®®ï¼Œæ­é…é›·è«¾æ›¼<b>ã€Œ${lCard}ã€</b>ï¼Œæ­¤åˆ»å¤§çæœ€å¥‘åˆå‘½æ ¼ã€‚`},
        {p:"NT$ 1,000", n:"1,200è¬å¤§å‰åˆ©", a:`ç•¶ä¸‹æ˜“æ•¸ã€Œä¹¾é‡‘ç”Ÿè²¡ã€ï¼Œæ­é…é›·è«¾æ›¼<b>ã€Œ${lCard}ã€</b>ï¼Œæ˜“æœ‰æ„å¤–ä¹‹å–œã€‚`},
        {p:"NT$ 500", n:"é‡‘é¦¬ç(100%ä¸­ç)", a:`æ˜Ÿç›¤é¡¯ç¤ºæ­¤æ™‚å®œç©©ï¼Œæ­é…é›·è«¾æ›¼<b>ã€Œ${lCard}ã€</b>ï¼Œä¿åº•æ¬¾å¼èƒ½å®ˆè²¡æ°£ã€‚`},
        {p:"NT$ 200", n:"é‡‘é¦¬å ±å–œ", a:`æ­¤æ™‚æœ€èƒ½å¸¶å‹•æœ¬å‘½é¦¬å¹´åè²¡ï¼ŒåŠ ä¸Šé›·è«¾æ›¼<b>ã€Œ${lCard}ã€</b>æŒ‡å¼•ï¼Œçˆ†ç™¼åŠ›å¼·ã€‚`},
        {p:"NT$ 100", n:"è²¡æºæ»¾æ»¾", a:`ç•¶ä¸‹æ˜“ç¶“ã€Œåæ°´æµå‹•ã€ï¼Œæ­é…é›·è«¾æ›¼<b>ã€Œ${lCard}ã€</b>ï¼Œé©åˆå°é¡å¤šé»é–‹èŠ±ã€‚`}
    ];
    const ch = styles[nowH % 5];
    document.getElementById('o_price').innerText = "ç³»çµ±æŒ‡å¼•é¢é¡ï¼š" + ch.p;
    document.getElementById('o_name').innerText = ch.n;
    document.getElementById('o_ana_lotto').innerHTML = "ç³»çµ±è§£æï¼š" + ch.a;

    document.getElementById('o_lucky_num_2').innerText = formatNum(bn1);

    const pos = ["æ­£æ±", "æ­£å—", "æ­£è¥¿", "æ­£åŒ—", "æ±å—", "è¥¿å—", "è¥¿åŒ—", "æ±åŒ—"];
    document.getElementById('o_pos').innerText = "ğŸ“ æœ€ä½³å‡ºç™¼æ–¹ä½ï¼šæœå‘å®¶ä¸­çš„ã€Œ" + pos[(baseSeed + nowH) % 8] + "ã€";

    document.getElementById('res').style.display = 'block';
    
    saveHistory(displayTarget, scoreStr, themeColor);
    
    window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
}
</script>
</body>
</html>
